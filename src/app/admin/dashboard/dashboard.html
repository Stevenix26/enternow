<main>
  <!-- <app-admin-header></app-admin-header> -->
  <div class="top-headers">
    <p>Welcome, {{ name }} ğŸŒ„</p>
    <select matNativeControl name="filter" id="filter">
      <option *ngFor="let filters of filter" [value]="filters">{{ filters }}</option>
    </select>
  </div>
  <section class="stats">
    <!-- Stats: value first, label second to match CSS emphasis -->
    <div class="stat-card" role="region" aria-label="Signins">
      <span>2,000</span>
      <span>Signins</span>
    </div>
    <div class="stat-card" role="region" aria-label="Lateness percentage">
      <span>5%</span>
      <span>% Lateness</span>
    </div>
    <div class="stat-card" role="region" aria-label="Early birds percentage">
      <span>95%</span>
      <span>Early birds%</span>
    </div>
    <div class="stat-card" role="region" aria-label="Suspensions">
      <span>18</span>
      <span>Suspension</span>
    </div>
  </section>
  <section>
    <!-- Two list cards: keep the inner row structure so CSS still applies -->
    <div class="list-card" role="group" aria-label="Top earliest staff">
      <div class="list-heading">
        <span>Top Earliest</span>
        <span class="muted">Staff</span>
      </div>
      <!-- List items with staff and department pairs -->
      <div class="list-item" *ngFor="let staff of staffList">
        <span class="stat-icon">{{ staff.name }}</span>
        <span class="muted">{{ staff.department }}</span>
      </div>
    </div>
    <div class="list-card" role="group" aria-label="Other top staff lists">
      <div class="list-heading">
        <span>Lateness</span>
        <span class="muted">Count</span>
      </div>
      <div class="list-item" *ngFor="let staff of staffList">
        <span class="stat-icon">{{ staff.name }}</span>
        <span class="muted">{{ staff.count }}</span>
      </div>
    </div>
  </section>

  <div class="create-staff">
    <button class="btn" (click)="openCreateStaffModal()">
      <mat-icon>add</mat-icon>
      Create staff
    </button>

    <button
      mat-raised-button
      color="warn"
      (click)="clearAllStaff()"
      *ngIf="staffDetails.length > 0"
    >
      Clear All Staff
    </button>
  </div>
  <!-- Staff List Display -->
  <div class="table-container">
    <!-- <div class="registered-staff-section"> -->

    <!-- Registered Staff Table -->
    <h2>Registered Staff</h2>

    <!-- //length of staff register -->
    <div class="registered-staff" *ngIf="staffDetails.length > 0" align="left">
      <span>Registered Staff: {{ staffDetails.length }}</span>
    </div>

    <div *ngIf="staffDetails.length === 0" class="no-data">
      <p>No staff registered yet. Click "Create Staff" to register.</p>
    </div>

    <table
      mat-table
      [dataSource]="staffDetails"
      *ngIf="staffDetails.length > 0"
      class="staff-table"
    >
      <!-- Staff Name Column -->
      <ng-container matColumnDef="staffName">
        <th mat-header-cell *matHeaderCellDef>Staff Name</th>
        <td mat-cell *matCellDef="let staff">{{ staff.staffName }}</td>
      </ng-container>

      <!-- Staff ID Column -->
      <ng-container matColumnDef="staffId">
        <th mat-header-cell *matHeaderCellDef>Staff ID</th>
        <td mat-cell *matCellDef="let staff">{{ staff.staffId }}</td>
      </ng-container>

      <!-- Department Column -->
      <ng-container matColumnDef="department">
        <th mat-header-cell *matHeaderCellDef>Department</th>
        <td mat-cell *matCellDef="let staff">{{ staff.department }}</td>
      </ng-container>

      <!-- Date & Time Column -->
      <ng-container matColumnDef="dateTime">
        <th mat-header-cell *matHeaderCellDef>Registration Date/Time</th>
        <td mat-cell *matCellDef="let staff">{{ formatDateTime(staff.dateTime) }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <!-- <div *ngIf="staffDetails.length === 0" class="no-staff">
    <p>No staff registered yet. Click "Create Staff" to register.</p>
  </div>

  <div *ngIf="staffDetails.length > 0" class="staff-grid">
    <mat-card *ngFor="let staff of staffDetails" class="staff-card">
      <mat-card-header>
        <mat-card-title>{{ staff.staffName }}</mat-card-title>
        <mat-card-subtitle>{{ staff.department }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p><strong>Staff ID:</strong> {{ staff.staffId }}</p>
        <p><strong>Department:</strong> {{ staff.department }}</p>
        <p><strong>Registered:</strong> {{ staff.dateTime }}</p>
      </mat-card-content>
    </mat-card>
  </div> -->
  </div>
</main>
